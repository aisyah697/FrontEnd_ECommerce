{"ast":null,"code":"import axios from \"axios\";\nconst url = process.env.REACT_APP_BASE_URL;\nexport const getCart = () => {\n  return (dispatch, getState) => {\n    const token = localStorage.getItem(\"token\");\n    axios.get(url + \"transaction\", {\n      headers: {\n        \"Authorization\": \"Bearer \" + getState().user.token\n      }\n    }).then(response => {\n      dispatch({\n        type: \"GET_CUSTOMER_CART\",\n        payload: response.data\n      });\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n};\nexport const postCart = product_id => {\n  return (dispatch, getState) => {\n    const token = localStorage.getItem(\"token\");\n    axios({\n      method: \"POST\",\n      url: url + \"transaction\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      params: {\n        product_id: product_id,\n        quantity: getState().cart.quantity\n      }\n    });\n  };\n};\nexport const updateInputQty = event => ({\n  type: \"UPDATE_INPUT_QUANTITY\",\n  payload: event\n});\nexport const deleteCart = id => {\n  return (dispatch, getState) => {\n    const token = localStorage.getItem(\"token\");\n    axios({\n      method: \"DELETE\",\n      url: `${url}transaction/${id}`,\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        Accept: \"application/json; charset=utf-8\",\n        Authorization: `Bearer ${token}`\n      }\n    });\n  };\n};\nexport const doCheckout = () => {\n  return (dispatch, getState) => {\n    const token = localStorage.getItem(\"token\");\n    axios({\n      method: \"POST\",\n      url: `${url}checkout`,\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        Accept: \"application/json; charset=utf-8\",\n        Authorization: `Bearer ${token}`\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/alta4/Documents/FrontEnd_ECommerce/semerbak_project/src/store/actions/actionCart.js"],"names":["axios","url","process","env","REACT_APP_BASE_URL","getCart","dispatch","getState","token","localStorage","getItem","get","headers","user","then","response","type","payload","data","catch","error","console","postCart","product_id","method","Authorization","params","quantity","cart","updateInputQty","event","deleteCart","id","Accept","doCheckout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAAxB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AACzB,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC3B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAV,IAAAA,KAAK,CAACW,GAAN,CAAUV,GAAG,GAAG,aAAhB,EAA+B;AACvBW,MAAAA,OAAO,EAAE;AACL,yBAAiB,YAAYL,QAAQ,GAAGM,IAAX,CAAgBL;AADxC;AADc,KAA/B,EAKKM,IALL,CAKWC,QAAD,IAAc;AAChBT,MAAAA,QAAQ,CAAC;AACLU,QAAAA,IAAI,EAAE,mBADD;AAELC,QAAAA,OAAO,EAAEF,QAAQ,CAACG;AAFb,OAAD,CAAR;AAIH,KAVL,EAWKC,KAXL,CAWYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH,KAbL;AAcH,GAjBD;AAkBH,CAnBM;AAqBP,OAAO,MAAME,QAAQ,GAAIC,UAAD,IAAgB;AACpC,SAAO,CAACjB,QAAD,EAAWC,QAAX,KAAwB;AAC3B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAV,IAAAA,KAAK,CAAC;AACFwB,MAAAA,MAAM,EAAE,MADN;AAEFvB,MAAAA,GAAG,EAAEA,GAAG,GAAG,aAFT;AAGFW,MAAAA,OAAO,EAAE;AAAEa,QAAAA,aAAa,EAAG,UAASjB,KAAM;AAAjC,OAHP;AAIFkB,MAAAA,MAAM,EAAE;AACJH,QAAAA,UAAU,EAAEA,UADR;AAEJI,QAAAA,QAAQ,EAAEpB,QAAQ,GAAGqB,IAAX,CAAgBD;AAFtB;AAJN,KAAD,CAAL;AASH,GAZD;AAaH,CAdM;AAgBP,OAAO,MAAME,cAAc,GAAIC,KAAD,KAAY;AACtCd,EAAAA,IAAI,EAAE,uBADgC;AAEtCC,EAAAA,OAAO,EAAEa;AAF6B,CAAZ,CAAvB;AAKP,OAAO,MAAMC,UAAU,GAAIC,EAAD,IAAQ;AAC9B,SAAO,CAAC1B,QAAD,EAAWC,QAAX,KAAwB;AAC3B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAV,IAAAA,KAAK,CAAC;AACFwB,MAAAA,MAAM,EAAE,QADN;AAEFvB,MAAAA,GAAG,EAAG,GAAEA,GAAI,eAAc+B,EAAG,EAF3B;AAGFpB,MAAAA,OAAO,EAAE;AACL,wBAAgB,iCADX;AAELqB,QAAAA,MAAM,EAAE,iCAFH;AAGLR,QAAAA,aAAa,EAAG,UAASjB,KAAM;AAH1B;AAHP,KAAD,CAAL;AASH,GAZD;AAaH,CAdM;AAgBP,OAAO,MAAM0B,UAAU,GAAG,MAAM;AAC5B,SAAO,CAAC5B,QAAD,EAAWC,QAAX,KAAwB;AAC3B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAV,IAAAA,KAAK,CAAC;AACFwB,MAAAA,MAAM,EAAE,MADN;AAEFvB,MAAAA,GAAG,EAAG,GAAEA,GAAI,UAFV;AAGFW,MAAAA,OAAO,EAAE;AACL,wBAAgB,iCADX;AAELqB,QAAAA,MAAM,EAAE,iCAFH;AAGLR,QAAAA,aAAa,EAAG,UAASjB,KAAM;AAH1B;AAHP,KAAD,CAAL;AASH,GAZD;AAaH,CAdM","sourcesContent":["import axios from \"axios\";\n\nconst url = process.env.REACT_APP_BASE_URL\n\nexport const getCart = () => {\n    return (dispatch, getState) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios.get(url + \"transaction\", {\n                headers: {\n                    \"Authorization\": \"Bearer \" + getState().user.token\n                }\n            })\n            .then((response) => {\n                dispatch({\n                    type: \"GET_CUSTOMER_CART\",\n                    payload: response.data\n                })\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n    }\n}\n\nexport const postCart = (product_id) => {\n    return (dispatch, getState) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios({\n            method: \"POST\",\n            url: url + \"transaction\",\n            headers: { Authorization: `Bearer ${token}` },\n            params: {\n                product_id: product_id,\n                quantity: getState().cart.quantity\n            }\n        })\n    }\n}\n\nexport const updateInputQty = (event) => ({\n    type: \"UPDATE_INPUT_QUANTITY\",\n    payload: event\n})\n\nexport const deleteCart = (id) => {\n    return (dispatch, getState) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios({\n            method: \"DELETE\",\n            url: `${url}transaction/${id}`,\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\",\n                Accept: \"application/json; charset=utf-8\",\n                Authorization: `Bearer ${token}`\n            }\n        })\n    }\n}\n\nexport const doCheckout = () => {\n    return (dispatch, getState) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios({\n            method: \"POST\",\n            url: `${url}checkout`,\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\",\n                Accept: \"application/json; charset=utf-8\",\n                Authorization: `Bearer ${token}`\n            }\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}