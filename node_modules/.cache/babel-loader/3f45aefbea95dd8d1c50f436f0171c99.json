{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta4/Documents/FrontEnd_ECommerce/semerbak_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alta4/Documents/FrontEnd_ECommerce/semerbak_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";export var allProducts=function allProducts(){return function(dispatch){axios.get(\"http://0.0.0.0:5000/product/list\").then(function(response){console.warn(\"check product action\",response);dispatch({type:\"GET_ALL_PRODUCTS\",payload:response.data});}).catch(function(error){console.warn(error);});};};export var productCategory=function productCategory(){return function(dispatch){axios.get(\"http://0.0.0.0:5000/product_category\").then(function(response){dispatch({type:\"GET_PRODUCT_CATEGORY\",payload:response.data});}).catch(function(error){return console.error(error);});};};export var handleInputChange=function handleInputChange(event){var value=event.target.value;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch({type:\"SEARCH_PRODUCT\",payload:value});case 2:dispatch(searchProduct(value));case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var addProduct=function addProduct(props){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var category,promo,id,input,bodyRequest,myJSON,token;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:category=getState().product.category;promo=getState().product.promo;if(category===\"Natural Oils\"){id=1;}else if(category===\"Aromatherapy\"){id=2;}else if(category===\"Bath & Body\"){id=3;}else{id=4;}if(promo===\"true\"){input=true;}else{input=false;}bodyRequest={name:getState().product.product_name,price:getState().product.price,image:getState().product.image,weight:getState().product.weight,stock:getState().product.stock,description:getState.product.description,promo:input,discount:getState().product.discount,category:id};myJSON=JSON.stringify(bodyRequest);token=localStorage.getItem(\"token\");_context3.next=9;return axios.post(\"http://0.0.0.0:5050/items\",myJSON,{headers:{\"Content-Type\":\"application/json; charset=utf-8\",Accept:\"application/json; charset=utf-8\",Authorization:\"Bearer \".concat(token)}}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:\"ADD_PRODUCT_SUCCESS\"});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4){return _ref3.apply(this,arguments);};}()).catch(function(error){console.log(error);});case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();};export var searchProduct=function searchProduct(keyword){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var getProduct;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(keyword.length>2)){_context4.next=11;break;}_context4.prev=1;_context4.next=4;return axios.get(\"http://0.0.0.0:5000/product/list\");case 4:getProduct=_context4.sent;dispatch({type:\"GET_ALL_PRODUCTS\",payload:getProduct});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);console.error(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function(_x5){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/alta4/Documents/FrontEnd_ECommerce/semerbak_project/src/store/actions/actionProduct.js"],"names":["axios","allProducts","dispatch","get","then","response","console","warn","type","payload","data","catch","error","productCategory","handleInputChange","event","value","target","searchProduct","addProduct","props","getState","category","product","promo","id","input","bodyRequest","name","product_name","price","image","weight","stock","description","discount","myJSON","JSON","stringify","token","localStorage","getItem","post","headers","Accept","Authorization","log","keyword","length","getProduct"],"mappings":"6VAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC7B,MAAO,UAACC,QAAD,CAAc,CACjBF,KAAK,CACAG,GADL,CACS,kCADT,EAEKC,IAFL,CAEU,SAACC,QAAD,CAAc,CAChBC,OAAO,CAACC,IAAR,CAAa,sBAAb,CAAqCF,QAArC,EACAH,QAAQ,CAAC,CACLM,IAAI,CAAE,kBADD,CAELC,OAAO,CAAEJ,QAAQ,CAACK,IAFb,CAAD,CAAR,CAIH,CARL,EASKC,KATL,CASW,SAACC,KAAD,CAAW,CACdN,OAAO,CAACC,IAAR,CAAaK,KAAb,EACH,CAXL,EAYH,CAbD,CAcH,CAfM,CAiBP,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACjC,MAAO,UAACX,QAAD,CAAc,CACjBF,KAAK,CACAG,GADL,CACS,sCADT,EAEKC,IAFL,CAEU,SAACC,QAAD,CAAc,CAChBH,QAAQ,CAAC,CACLM,IAAI,CAAE,sBADD,CAELC,OAAO,CAAEJ,QAAQ,CAACK,IAFb,CAAD,CAAR,CAIH,CAPL,EAQKC,KARL,CAQW,SAACC,KAAD,QAAYN,CAAAA,OAAO,CAACM,KAAR,CAAcA,KAAd,CAAZ,EARX,EASH,CAVD,CAWH,CAZM,CAcP,MAAO,IAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACxC,GAAIC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB,CACA,+FAAO,iBAAMd,QAAN,wIACGA,CAAAA,QAAQ,CAAC,CAAEM,IAAI,CAAE,gBAAR,CAA0BC,OAAO,CAAEO,KAAnC,CAAD,CADX,QAEHd,QAAQ,CAACgB,aAAa,CAACF,KAAD,CAAd,CAAR,CAFG,sDAAP,+DAIH,CANM,CAQP,MAAO,IAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CACjC,gGAAO,kBAAMlB,QAAN,CAAgBmB,QAAhB,2KACGC,QADH,CACcD,QAAQ,GAAGE,OAAX,CAAmBD,QADjC,CAEGE,KAFH,CAEWH,QAAQ,GAAGE,OAAX,CAAmBC,KAF9B,CAIH,GAAIF,QAAQ,GAAK,cAAjB,CAAiC,CAC7BG,EAAE,CAAG,CAAL,CACH,CAFD,IAEO,IAAIH,QAAQ,GAAK,cAAjB,CAAiC,CACpCG,EAAE,CAAG,CAAL,CACH,CAFM,IAEA,IAAIH,QAAQ,GAAK,aAAjB,CAAgC,CACnCG,EAAE,CAAG,CAAL,CACH,CAFM,IAEA,CACHA,EAAE,CAAG,CAAL,CACH,CAGD,GAAID,KAAK,GAAK,MAAd,CAAsB,CAClBE,KAAK,CAAG,IAAR,CACH,CAFD,IAEO,CACHA,KAAK,CAAG,KAAR,CACH,CACKC,WApBH,CAoBiB,CAChBC,IAAI,CAAEP,QAAQ,GAAGE,OAAX,CAAmBM,YADT,CAEhBC,KAAK,CAAET,QAAQ,GAAGE,OAAX,CAAmBO,KAFV,CAGhBC,KAAK,CAAEV,QAAQ,GAAGE,OAAX,CAAmBQ,KAHV,CAIhBC,MAAM,CAAEX,QAAQ,GAAGE,OAAX,CAAmBS,MAJX,CAKhBC,KAAK,CAAEZ,QAAQ,GAAGE,OAAX,CAAmBU,KALV,CAMhBC,WAAW,CAAEb,QAAQ,CAACE,OAAT,CAAiBW,WANd,CAOhBV,KAAK,CAAEE,KAPS,CAQhBS,QAAQ,CAAEd,QAAQ,GAAGE,OAAX,CAAmBY,QARb,CAShBb,QAAQ,CAAEG,EATM,CApBjB,CA+BGW,MA/BH,CA+BYC,IAAI,CAACC,SAAL,CAAeX,WAAf,CA/BZ,CAgCGY,KAhCH,CAgCWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAhCX,wBAiCGzC,CAAAA,KAAK,CACN0C,IADC,CACI,2BADJ,CACiCN,MADjC,CACyC,CACvCO,OAAO,CAAE,CACL,eAAgB,iCADX,CAELC,MAAM,CAAE,iCAFH,CAGLC,aAAa,kBAAYN,KAAZ,CAHR,CAD8B,CADzC,EAQDnC,IARC,2FAQI,kBAAMC,QAAN,sHACFH,QAAQ,CAAC,CAAEM,IAAI,CAAE,qBAAR,CAAD,CAAR,CADE,wDARJ,kEAWDG,KAXC,CAWK,SAASC,KAAT,CAAgB,CACnBN,OAAO,CAACwC,GAAR,CAAYlC,KAAZ,EACH,CAbC,CAjCH,yDAAP,qEAgDH,CAjDM,CAoDP,MAAO,IAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAC6B,OAAD,CAAa,CACtC,gGAAO,kBAAM7C,QAAN,0IACC6C,OAAO,CAACC,MAAR,CAAiB,CADlB,oEAG8BhD,CAAAA,KAAK,CAACG,GAAN,CACrB,kCADqB,CAH9B,QAGW8C,UAHX,gBAMK/C,QAAQ,CAAC,CACLM,IAAI,CAAE,kBADD,CAELC,OAAO,CAAEwC,UAFJ,CAAD,CAAR,CANL,mFAWK3C,OAAO,CAACM,KAAR,eAXL,sEAAP,iEAeH,CAhBM","sourcesContent":["import axios from \"axios\"\n\nexport const allProducts = () => {\n    return (dispatch) => {\n        axios\n            .get(\"http://0.0.0.0:5000/product/list\")\n            .then((response) => {\n                console.warn(\"check product action\", response)\n                dispatch({\n                    type: \"GET_ALL_PRODUCTS\",\n                    payload: response.data\n                })\n            })\n            .catch((error) => {\n                console.warn(error)\n            })\n    }\n}\n\nexport const productCategory = () => {\n    return (dispatch) => {\n        axios\n            .get(\"http://0.0.0.0:5000/product_category\")\n            .then((response) => {\n                dispatch({\n                    type: \"GET_PRODUCT_CATEGORY\",\n                    payload: response.data\n                })\n            })\n            .catch((error) => (console.error(error)))\n    }\n}\n\nexport const handleInputChange = (event) => {\n    let value = event.target.value;\n    return async(dispatch) => {\n        await dispatch({ type: \"SEARCH_PRODUCT\", payload: value });\n        dispatch(searchProduct(value));\n    };\n}\n\nexport const addProduct = (props) => {\n    return async(dispatch, getState) => {\n        const category = getState().product.category;\n        const promo = getState().product.promo;\n        let id;\n        if (category === \"Natural Oils\") {\n            id = 1;\n        } else if (category === \"Aromatherapy\") {\n            id = 2;\n        } else if (category === \"Bath & Body\") {\n            id = 3;\n        } else {\n            id = 4;\n        }\n\n        let input;\n        if (promo === \"true\") {\n            input = true;\n        } else {\n            input = false;\n        }\n        const bodyRequest = {\n            name: getState().product.product_name,\n            price: getState().product.price,\n            image: getState().product.image,\n            weight: getState().product.weight,\n            stock: getState().product.stock,\n            description: getState.product.description,\n            promo: input,\n            discount: getState().product.discount,\n            category: id,\n        };\n        const myJSON = JSON.stringify(bodyRequest);\n        const token = localStorage.getItem(\"token\");\n        await axios\n            .post(\"http://0.0.0.0:5050/items\", myJSON, {\n                headers: {\n                    \"Content-Type\": \"application/json; charset=utf-8\",\n                    Accept: \"application/json; charset=utf-8\",\n                    Authorization: `Bearer ${token}`,\n                },\n            })\n            .then(async(response) => {\n                dispatch({ type: \"ADD_PRODUCT_SUCCESS\" });\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n    };\n};\n\n\nexport const searchProduct = (keyword) => {\n    return async(dispatch) => {\n        if (keyword.length > 2) {\n            try {\n                const getProduct = await axios.get(\n                    \"http://0.0.0.0:5000/product/list\"\n                );\n                dispatch({\n                    type: \"GET_ALL_PRODUCTS\",\n                    payload: getProduct,\n                });\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    };\n};"]},"metadata":{},"sourceType":"module"}