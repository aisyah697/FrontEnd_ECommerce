{"ast":null,"code":"import axios from\"axios\";var base_url=process.env.REACT_APP_BASE_URL;export var doLogin=function doLogin(){return function(dispatch,getState){var dataUsername=getState().user.inputUsername;var dataPassword=getState().user.inputPassword;axios.get(base_url+\"auth\",{params:{username:dataUsername,password:dataPassword}}).then(function(response){dispatch({type:\"LOGIN_SUCCESS\",payload:response.data});localStorage.setItem(\"token\",response.data.token);localStorage.setItem(\"is_login\",true);}).catch(function(error){alert(\"Wrong username or password!\");});};};export var doRegister=function doRegister(){return function(dispatch,getState){var dataUsername=getState().user.inputUsername;var dataPassword=getState().user.inputPassword;var bodyRequest={username:dataUsername,password:dataPassword};axios.post(base_url+\"user\",bodyRequest).then(function(response){doLogin();dispatch({type:\"REGISTER_SUCCESS\",payload:response.data});});};};export var changeInputUsername=function changeInputUsername(e){return{type:\"CHANGE_USERNAME_INPUT\",payload:e};};export var changeInputPassword=function changeInputPassword(e){return{type:\"CHANGE_PASSWORD_INPUT\",payload:e};};export var doSignOut=function doSignOut(){localStorage.removeItem(\"token\");localStorage.removeItem(\"is_login\");return{type:\"LOGOUT_SUCCESS\"};};","map":{"version":3,"sources":["/home/alta4/Documents/FrontEnd_ECommerce/semerbak_project/src/store/actions/actionUser.js"],"names":["axios","base_url","process","env","REACT_APP_BASE_URL","doLogin","dispatch","getState","dataUsername","user","inputUsername","dataPassword","inputPassword","get","params","username","password","then","response","type","payload","data","localStorage","setItem","token","catch","error","alert","doRegister","bodyRequest","post","changeInputUsername","e","changeInputPassword","doSignOut","removeItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA7B,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACzB,MAAO,UAACC,QAAD,CAAWC,QAAX,CAAwB,CAC3B,GAAMC,CAAAA,YAAY,CAAGD,QAAQ,GAAGE,IAAX,CAAgBC,aAArC,CACA,GAAMC,CAAAA,YAAY,CAAGJ,QAAQ,GAAGE,IAAX,CAAgBG,aAArC,CAEAZ,KAAK,CAACa,GAAN,CAAUZ,QAAQ,CAAG,MAArB,CAA6B,CACrBa,MAAM,CAAE,CACJC,QAAQ,CAAEP,YADN,CAEJQ,QAAQ,CAAEL,YAFN,CADa,CAA7B,EAMKM,IANL,CAMU,SAACC,QAAD,CAAc,CAChBZ,QAAQ,CAAC,CAAEa,IAAI,CAAE,eAAR,CAAyBC,OAAO,CAAEF,QAAQ,CAACG,IAA3C,CAAD,CAAR,CACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BL,QAAQ,CAACG,IAAT,CAAcG,KAA5C,EACAF,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,IAAjC,EACH,CAVL,EAWKE,KAXL,CAWW,SAACC,KAAD,CAAW,CACdC,KAAK,CAAC,6BAAD,CAAL,CACH,CAbL,EAcH,CAlBD,CAmBH,CApBM,CAsBP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC5B,MAAO,UAACtB,QAAD,CAAWC,QAAX,CAAwB,CAC3B,GAAMC,CAAAA,YAAY,CAAGD,QAAQ,GAAGE,IAAX,CAAgBC,aAArC,CACA,GAAMC,CAAAA,YAAY,CAAGJ,QAAQ,GAAGE,IAAX,CAAgBG,aAArC,CAEA,GAAMiB,CAAAA,WAAW,CAAG,CAChBd,QAAQ,CAAEP,YADM,CAEhBQ,QAAQ,CAAEL,YAFM,CAApB,CAKAX,KAAK,CAAC8B,IAAN,CAAW7B,QAAQ,CAAG,MAAtB,CAA8B4B,WAA9B,EACKZ,IADL,CACU,SAACC,QAAD,CAAc,CAChBb,OAAO,GACPC,QAAQ,CAAC,CAAEa,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAEF,QAAQ,CAACG,IAA9C,CAAD,CAAR,CACH,CAJL,EAKH,CAdD,CAeH,CAhBM,CAkBP,MAAO,IAAMU,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAO,CACtC,MAAO,CACHb,IAAI,CAAE,uBADH,CAEHC,OAAO,CAAEY,CAFN,CAAP,CAIH,CALM,CAOP,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACD,CAAD,CAAO,CACtC,MAAO,CACHb,IAAI,CAAE,uBADH,CAEHC,OAAO,CAAEY,CAFN,CAAP,CAIH,CALM,CAOP,MAAO,IAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3BZ,YAAY,CAACa,UAAb,CAAwB,OAAxB,EACAb,YAAY,CAACa,UAAb,CAAwB,UAAxB,EACA,MAAO,CACHhB,IAAI,CAAE,gBADH,CAAP,CAGH,CANM","sourcesContent":["import axios from \"axios\";\n\nconst base_url = process.env.REACT_APP_BASE_URL\n\nexport const doLogin = () => {\n    return (dispatch, getState) => {\n        const dataUsername = getState().user.inputUsername\n        const dataPassword = getState().user.inputPassword\n\n        axios.get(base_url + \"auth\", {\n                params: {\n                    username: dataUsername,\n                    password: dataPassword\n                }\n            })\n            .then((response) => {\n                dispatch({ type: \"LOGIN_SUCCESS\", payload: response.data })\n                localStorage.setItem(\"token\", response.data.token);\n                localStorage.setItem(\"is_login\", true);\n            })\n            .catch((error) => {\n                alert(\"Wrong username or password!\")\n            })\n    };\n};\n\nexport const doRegister = () => {\n    return (dispatch, getState) => {\n        const dataUsername = getState().user.inputUsername;\n        const dataPassword = getState().user.inputPassword;\n\n        const bodyRequest = {\n            username: dataUsername,\n            password: dataPassword\n        }\n\n        axios.post(base_url + \"user\", bodyRequest)\n            .then((response) => {\n                doLogin()\n                dispatch({ type: \"REGISTER_SUCCESS\", payload: response.data })\n            })\n    }\n}\n\nexport const changeInputUsername = (e) => {\n    return {\n        type: \"CHANGE_USERNAME_INPUT\",\n        payload: e,\n    };\n};\n\nexport const changeInputPassword = (e) => {\n    return {\n        type: \"CHANGE_PASSWORD_INPUT\",\n        payload: e,\n    };\n};\n\nexport const doSignOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"is_login\");\n    return {\n        type: \"LOGOUT_SUCCESS\",\n    };\n};"]},"metadata":{},"sourceType":"module"}